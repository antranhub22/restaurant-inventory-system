# ğŸš€ HÆ°á»›ng dáº«n Deploy OCR Demo lÃªn Render

## ğŸ“‹ Tá»•ng quan

HÆ°á»›ng dáº«n chi tiáº¿t cÃ¡ch deploy há»‡ thá»‘ng Restaurant Inventory vá»›i OCR Demo lÃªn Render.com.

## ğŸ¯ Káº¿t quáº£ sau khi deploy

- **Backend**: https://restaurant-inventory-backend.onrender.com
- **Frontend**: https://restaurant-inventory-frontend.onrender.com
- **OCR Demo**: https://restaurant-inventory-frontend.onrender.com/ocr-demo

## ğŸ”§ Chuáº©n bá»‹ trÆ°á»›c khi deploy

### 1. Kiá»ƒm tra code
```bash
# Cháº¡y script kiá»ƒm tra
./deploy-ocr-demo.sh
```

### 2. Commit vÃ  push code
```bash
git add .
git commit -m "Update OCR demo for Render deployment"
git push origin main
```

## ğŸŒ Deploy lÃªn Render

### BÆ°á»›c 1: Táº¡o tÃ i khoáº£n Render
1. Truy cáº­p https://render.com
2. ÄÄƒng kÃ½ tÃ i khoáº£n (cÃ³ thá»ƒ dÃ¹ng GitHub)
3. Verify email

### BÆ°á»›c 2: Connect GitHub Repository
1. TrÃªn Render Dashboard, click "New +"
2. Chá»n "Blueprint" (sá»­ dá»¥ng render.yaml)
3. Connect vá»›i GitHub repository
4. Chá»n repository chá»©a code

### BÆ°á»›c 3: Configure Backend Service

#### Environment Variables
```
NODE_ENV=production
PORT=4000
DATABASE_URL=postgresql://user:pass@host/database?sslmode=require
JWT_SECRET=<auto-generated>
FRONTEND_URL=https://restaurant-inventory-frontend.onrender.com
```

#### Database Setup (Neon.tech)
1. Táº¡o tÃ i khoáº£n táº¡i https://neon.tech
2. Táº¡o database má»›i
3. Copy DATABASE_URL
4. Paste vÃ o Render environment variables

### BÆ°á»›c 4: Configure Frontend Service

#### Environment Variables
```
VITE_API_URL=https://restaurant-inventory-backend.onrender.com
VITE_ENV=production
```

#### Build Settings
- **Build Command**: `cd backend/frontend && ./render-build.sh`
- **Publish Directory**: `./backend/frontend/dist`

## ğŸ” Kiá»ƒm tra sau deploy

### 1. Backend Health Check
```bash
curl https://restaurant-inventory-backend.onrender.com/api/health
```

**Expected Response:**
```json
{
  "status": "OK",
  "timestamp": "2025-01-07T10:30:00.000Z",
  "environment": "production",
  "services": {
    "database": "connected",
    "redis": "not configured"
  }
}
```

### 2. Frontend Load Test
- Truy cáº­p: https://restaurant-inventory-frontend.onrender.com
- Kiá»ƒm tra trang load thÃ nh cÃ´ng
- Kiá»ƒm tra menu navigation

### 3. OCR Demo Test
- Truy cáº­p: https://restaurant-inventory-frontend.onrender.com/ocr-demo
- Kiá»ƒm tra OCR Status Panel
- Test upload áº£nh hÃ³a Ä‘Æ¡n

## ğŸ› ï¸ Troubleshooting

### Lá»—i Backend khÃ´ng start
```
âŒ Backend deployment failed
```

**Kháº¯c phá»¥c:**
1. Kiá»ƒm tra DATABASE_URL cÃ³ Ä‘Ãºng format khÃ´ng
2. Kiá»ƒm tra JWT_SECRET cÃ³ Ä‘Æ°á»£c set khÃ´ng
3. Xem logs trong Render Dashboard

### Lá»—i Frontend build
```
âŒ Frontend build failed
```

**Kháº¯c phá»¥c:**
1. Kiá»ƒm tra Node.js version (cáº§n 18+)
2. Kiá»ƒm tra build script cÃ³ executable khÃ´ng
3. Xem build logs chi tiáº¿t

### Lá»—i CORS
```
âŒ CORS error khi gá»i API
```

**Kháº¯c phá»¥c:**
1. Kiá»ƒm tra FRONTEND_URL trong backend env
2. Kiá»ƒm tra CORS configuration trong app.ts
3. Verify domain names

### Lá»—i Database Connection
```
âŒ Database connection failed
```

**Kháº¯c phá»¥c:**
1. Kiá»ƒm tra DATABASE_URL format
2. Verify database credentials
3. Check network connectivity

## ğŸ“Š Monitoring

### Render Dashboard
- **Logs**: Xem real-time logs
- **Metrics**: CPU, Memory, Response time
- **Deployments**: Lá»‹ch sá»­ deploy

### Health Checks
- **Backend**: `/api/health` endpoint
- **Frontend**: Static file serving
- **OCR**: Connection test panel

## ğŸ”’ Security

### Environment Variables
- âœ… JWT_SECRET auto-generated
- âœ… DATABASE_URL encrypted
- âœ… API keys secured

### CORS Configuration
- âœ… Frontend domain whitelisted
- âœ… HTTPS enforced
- âœ… Secure headers

### File Upload
- âœ… File size limits
- âœ… Type validation
- âœ… Secure storage

## ğŸ“ˆ Performance

### Backend Optimization
- âœ… Compression enabled
- âœ… Caching headers
- âœ… Database connection pooling

### Frontend Optimization
- âœ… Static file compression
- âœ… CDN delivery
- âœ… Lazy loading

## ğŸ”„ Auto Deploy

### GitHub Integration
- âœ… Auto deploy on push to main
- âœ… Preview deployments for PRs
- âœ… Rollback capability

### Environment Management
- âœ… Separate dev/prod environments
- âœ… Environment-specific configs
- âœ… Secrets management

## ğŸ“ Support

### Render Support
- Documentation: https://render.com/docs
- Community: https://community.render.com
- Status: https://status.render.com

### Project Issues
- Check logs trong Render Dashboard
- Verify environment variables
- Test endpoints manually

## ğŸ¯ Best Practices

### Code Quality
- âœ… TypeScript strict mode
- âœ… ESLint configuration
- âœ… Error handling

### Deployment
- âœ… Blueprint configuration
- âœ… Environment separation
- âœ… Health checks

### Monitoring
- âœ… Log aggregation
- âœ… Performance metrics
- âœ… Error tracking

## ğŸš€ Next Steps

### Post-Deployment
1. Test táº¥t cáº£ features
2. Monitor performance
3. Set up alerts
4. Document procedures

### Maintenance
1. Regular security updates
2. Performance monitoring
3. Database backups
4. Log rotation

---

**Status**: âœ… Ready for Production  
**Last Updated**: 2025-01-07  
**Version**: 1.0.0